# Ren'py

## English

[Ren'Py](https://www.renpy.org/) - is a game engine for creating games, typically text-based novels.

## Русский

[Ren'Py](https://www.renpy.org/) - игровой движок для создания игр, как правило - текстовых новелл.

Поддерживаются игры на Python 3, то есть с [версией Ren'Py 8.x.y](https://www.renpy.org/doc/html/implementation/two_and_three.html).

**Внимание. Эта интеграция может привести к некорректной работе игры.**

Некоторые игры могут основывать логику работы скрипта игры на тексте, который плагин переводит.
Исправить это не представляется возможным, делать специальную обработку под каждую игру слишком сложно.

В таком случае можно или временно выключить плагин и включить его обратно, или использовать другие варианты, например [LunaTranslator](../luna-translator/readme.md).

### Установка

Необходимо добавить файл `_llm-translate-integration.rpy` в папку с игрой по следующему пути:
`Путь_устанвоки_игры\game`.

Если установка прошла успешно, то в игре, в диалогах (не в главном меню), в верхнем левом углу появится кнопка Tr: True.
Нажатием на эту кнопку можно включить или выключить перевод.

### Параметры

В начале файла можно увидеть параметры, под текстом `Configuration variables`.

* **llm_translate__translate_path** - url приложения llm-translate + `/translate`, по умолчанию `http://127.0.0.1:4990/translate`.
* **llm_translate__preserve_original_text** - сохранять оригинальный текст. Рекомендуется, потому что при работе интеграция удаляет форматирование текста - цвет, начертание и т.д.
* **llm_translate__translate_text_all** - переводить весь текст или только текст в диалогах. Перевод всего текста не рекомендуется, так как больше вероятности, что это может сломать игру.
* **llm_translate__translate_font_name** - шрифт перевода. Шрифт должен поддерживать символы языка, на который происходит перевод.
Шрифт должен находиться в папке `fonts` `Путь_устанвоки_игры\game\fonts` или быть установлен в системе (более надежный и простой вариант).
* **llm_translate__translate_font_size** - размер шрифта перевода.
* **llm_translate__translate_font_format_tag** - тэг текста перевода. По умолчанию `i` - курсив.
* **llm_translate__replace_new_line_to_space** = Заменять символ новой строки пробелом. Может быть полезно, если текста очень много и текст с переводом не помещается в окно вывода.
* **llm_translate__translate_text_delimiter** - символ-разделитель между исходным и переведенным текстом (если включен параметр `llm_translate__preserve_original_text`).
* **llm_translate__from_lang** - двухбуквенный код языка оригинала.
  Если не выбран параметр `llm_translate__use_languages_from_luna_translate`, то будет использоваться значение из этого параметра.
  Может быть пустым, тогда llm-translate сам подставит язык из своих параметров.
* **llm_translate__to_lang** - двухбуквенный код языка, на который нужно выполнить перевод.
  Если не выбран параметр `llm_translate__use_languages_from_luna_translate`, то будет использоваться значение из этого параметра.
  Может быть пустым, тогда llm-translate сам подставит язык из своих параметров.
* **llm_translate__context** - дополнительный контекст для перевода. Может быть пустым. Нужно обратить внимание, что не все плагины для перевода llm-translate поддерживают контекст.


